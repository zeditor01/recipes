<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>ZEDITOR</title> 
<link rel="stylesheet" href="/recipes/styles.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head> 
<style>
html,body,h1,h2,h3,h4 {font-family:"Lato", sans-serif}
.mySlides {display:none}
.w3-tag, .fa {cursor:pointer}
.w3-tag {height:15px;width:15px;padding:0;margin-top:6px}

.greendot {
  height: 12px;
  width: 12px;
  background-color: #7CFC00;
  border-radius: 50%;
  display: inline-block;
}

.greydot {
  height: 12px;
  width: 12px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
}

spandarkblue {
  background-color: #0000ff;
  color: white;
}

spanlightblue {
  background-color: #00ffff;
  color: black;
}

spanyellow {
  background-color: #ffff00;
  color: black;
}
</style>
<body style="margin:0px;"> 

<!-- Persistent Site Links (sit on top) -->
<div class="w3-top">
  <div class="w3-row w3-large w3-blue">
	<div class="w3-col s3">
      <a href="/recipes/index.html" class="w3-button w3-block"><img src="/recipes/images/ZICON.png" height=25px></a>
    </div>
    <div class="w3-col s3">
      <a href="/recipes/index.html" class="w3-button w3-block">Home</a>
    </div>
    <div class="w3-col s3">
      <a href="/recipes/index.html#zones" class="w3-button w3-block">Technical Zones</a>
    </div>
    <div class="w3-col s3">
      <a href="/recipes/index.html#about" class="w3-button w3-block">About</a>
    </div>
  </div>
</div>


<div class="w3-content" style="max-width:1100px;margin-top:80px;margin-bottom:80px">

<!-- Start of Page Content -->

<!-- Common Header for CDC Papers -->

<div class="w3-content w3-light-grey" style="max-width:1100px;margin-top:80px;margin-bottom:80px">

<h2>CDC Replication Worked Examples</h2>

<!-- A Grid with hyperlinks to the CDC papers   -->
  <div class="w3-row-padding">

    <div class="w3-third">
      <ul class="w3-ul w3-border w3-left w3-hover-shadow" style="width:100%">
        <li class="w3-black w3-large w3-padding-4">Using CDC</li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu1.html"> Environment for CDC Worked Examples.</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu2.html"> Devops Options for CDC.</a></li> 
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu3.html"> CHCCLP Scripting.</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu4.html"> Security for CDC (LDAP and TLS).</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu5.html"> Container Deployment.</a></li>
		<li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcu5.html"> Monitoring and Managing outwith the Windows MC.</a></li>
      </ul>
    </div>

    <div class="w3-third">
      <ul class="w3-ul w3-border w3-left w3-hover-shadow" style="width:100%">
        <li class="w3-black w3-large w3-padding-4">Deploying z/OS CDC Agents</li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcz1.html"> Setting up CDC for Db2 on z/OS.</a></li> 
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcz2.html"> Setting up Classic CDC for IMS.</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcz3.html"> Setting up Classic CDC for VSAM.</a></li> 
		<li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcz4.html"> Setting up CDC for Kafka in zCX.</a></li> 
      </ul>
    </div>
	
    <div class="w3-third">
      <ul class="w3-ul w3-border w3-left w3-hover-shadow" style="width:100%">
        <li class="w3-black w3-large w3-padding-4">Deploying Linux CDC Agents</li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcl1.html"> Setting up CDC for Db2 on Linux.</a></li>
        <li class="w3-small"><span class="greendot"></span><a href="/recipes/docs/NA_CDC/cdcl2.html"> Setting up CDC for Kafka.</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcl3.html"> Setting up remote CDC Capture for Db2 z/OS.</a></li>
        <li class="w3-small"><span class="greydot"></span><a href="/recipes/docs/NA_CDC/cdcl4.html"> Setting up remote CDC Capture for VSAM.</a></li>
      </ul>
    </div>

  </div>
<!-- End Grid with hyperlinks to the CDC papers -->

<hr>

</div>

<!-- Page Contents Here -->

<div class="w3-content" style="max-width:1100px;margin-top:80px;margin-bottom:80px">
<h2>Setting up CDC for Kafka.</h2>


   <!-- Grid -->
  <div class="w3-row-padding">

    <div class="w3-third w3-margin-bottom" style="width:100%">
      <ul class="w3-ul w3-border w3-left w3-hover-shadow">
		<li>Author: Neale Armstrong</li>
		<li>Date Last Updated: January 2022</li>
      </ul>
    </div>

  </div>

<hr>

<div id="toc_container">

<p class="toc_title">Table of Contents</p>
<ul class="toc_list">
<li><a href="#abstract">Abstract</a>   
<li><a href="#1.0">1 Introduction to CDC for Kafka</a>
<ul>
  <li><a href="#1.1">1.1 Requirements to Replicate to Apache Kafka</a></li>
  <li><a href="#1.2">1.2 Kafka Concepts</a></li>
</ul>
<li><a href="#2.0">2. High Level Review of Implementation Steps</a>
<li><a href="#3.0">3. Install the CDC Agent for Kafka on Linux</a>
<li><a href="#4.0">4. Creating the CDC Kafka Instance</a>
<ul>
  <li><a href="#4.1">4.1 Linux paths and permissions</a></li>
  <li><a href="#4.2">4.2 Install the CDC Apply Agent for Kafka</a></li>
  <li><a href="#4.3">4.3 Create the CDC for Kafka Instance</a></li>
</ul> 
<li><a href="#5.0">5. Configure the Linux Environment</a>
<ul>
  <li><a href="#5.1">5.1 TCPIP Ports</a></li>
  <li><a href="#5.2">5.2 Kafka Connection Properties</a></li>
  <li><a href="#5.3">5.3 Likely additional Kafka configuration</a></li>  
</ul>
<li><a href="#6.0">6. Working with CDC for Kafka</a>
<ul>
  <li><a href="#6.1">6.1 Kafka Schema Registry considerations</a></li>
  <li><a href="#6.2">6.2 Console Consumers for testing Subscriptions</a></li>
  <li><a href="#6.3">6.3 Using Kafka Custom Operators (KCOPs)</a></li>
</ul>
<li><a href="#7.0">7. Integrate with the wider CDC Landscape</a>
<ul>
  <li><a href="#7.1">7.1 Automation of the CDC Apply for Kafka Service</a></li>
  <li><a href="#7.2">7.2 Connect from Management Console to CDC for Kafka instance</a></li>
  <li><a href="#7.3">7.3 Use CHCCLP Scripting</a></li>  
  <li><a href="#7.4">7.4 Conforming to site standards for cross-platform devops and security</a></li>
</ul> 
<li><a href="#App">Appendix</a>
</ul>
</div>

<hr>


<h2 id="abstract"> Abstract</h2>
<p>This document is a basic worked example of setting up CDC for Kafka as a CDC Target Engine.</p> 
<ul>
<li>It deals with the practical considerations for implementing CDC for Kafka. 
<li>It's scope is limited to a "basic up and running guide", and is intended to be easy to follow (assuming a base of Linux experience).
<li>It does not attempt to cover all the product's features.
<li>It is categorically <b>not</b> a replacement for the  
<a href="https://www.ibm.com/docs/en/idr/11.4.0?topic=replication-cdc-engine-kafka">IBM CDC for Kafka knowledge centre</a>, which is the comprehensive official product documentation.
</ul> 

<p>It is part of a series of documents providing practical worked examples and 
guidance for seting up CDC Replication between mainframe data sources and mid-range or Cloud targets.
The complete set of articles can be accessed using the links at the very top of this page</p> 

<br><hr>

<h2 id="1.0">1. Introduction to CDC for Kafka</h2>  

<p>CDC for Kafka is a CDC Apply Agent only. It does not have CDC Capture functionality.</p>

<p>CDC Replication is a set of products that implement a common data replication architecture spanning 
a large number of diverse data sources and targets. The CDC common architecture is based upon replication of 
data that conforms to the relational model. Any CDC capture or apply agent that supports a non-relational data structure 
must perform whatever conversion work that is necessary to implement a mapping between that data structure and the 
relational model of data.</p> 

<h3 id="1.1">1.1 Requirements to Replicate to Apache Kafka</h3> 

<p>Apache Kafka, and it's varioud commercial distributions, is widely used for event streaming services both on-premise and in-cloud. 
This document assumes that the reader is familiar with the basics of Kafka, which is widely documented online.</p>

<p>CDC architecture (which is founded on the relational model of data) provides a range of integration options to write data to Kafka topics and integrate with 
constructs in the Kafka world like Schema Registries that enable Kafka applications to consume the events that CDC writes to Kafka.</p>

<p>CDC for Kafka supports all the major Kafka distributions, including Confluent, Hortonworks, Cloudera, Amazon MSK, BigInsights, Event Streams. CDC for Kafka is 
supported for Ubuntu, Redhat, Suse and CentOS.</p>

<p>For latest details on supported versions of Linux and Kafka please check with the <a href="https://www.ibm.com/docs/en/idr/11.4.0?topic=replication-cdc-engine-kafka">IBM CDC for Kafka knowledge centre.</a>

<h3 id="1.1">1.2 Kafka Concepts</h3> 

<p>The author comes from a Db2 relational database platform. If you are a specialist in Relational Database and CDC replication, you will need to become familiar with a very different set of
concepts from relational databases. Initially you will probably thing of Kafka as something similar to Websphere MQ, which provides messaging and integration solutions for many 
Enterprises today. But Kafka is different in that...</p>
<ul>
<li>It is designed to be run on scalable, industry-standard cluster fabrics.
<li>It is legendary for providing lightning fast performance.
<li>It conforms the an "eventually consistent" model for data integrity (wheras databases follow a transactionally consistent model).
<li>Every message will be processed <b>at least once</b>, which means consuming applications have to be responsible for de-duping.
<li>Message structures are defined outside the messages in a schema registry
</ul>

<p>This article does not attempt to provide a tutorial on Kafka. However, if the reader is unfamiliar with Kafka, som



<hr>
<h2>About these Worked Examples</h2>
<p>There is a lot of content contained in these papers, which will be helpful to some readers, but may be meaningless geek-speak to others. 
The words below set some expectations as to what these articles cover so that the reader can decide to view them, or invest their time elsewhere.</p>

<h3>Original Purpose for publishing these worked examples.</h3>
<p>These worked examples are <b>categorically not</b> a substitute for the official IBM documentation, which 
can be found here <a href="https://www.ibm.com/docs/en/idr/11.4.0?topic=change-data-capture-cdc-replication">IBM CDC knowledge centre</a></p>

<p>The author of these documents has found the knowledge center to be a very comprehensive and accurate source of information for all CDC software products.
However, the author sometimes struggled to see the wood for the trees as he followed the extensive documentation, and felt that some worked examples would 
have been helpful to visualise the something similar to the end point he sought, and the journey to get there. The result was the series of documents linked at the 
top of this page.</p>
 
<h3>Target Audience</h3>
<p>These documents are aimed at two groups of people:</p>
<ol>
<li>Architects who need to evaluate and plan for the integration of CDC technology into their systems, and need to understand how CDC supports encryption, authentication, automation, monitoring, change control, devops and so forth.
<li>Systems professionals who need to install, customize, connect, test and generally make CDC do what it is intended to do.
</ol>

<p>Architects will likely be most interested in column 1 ( Using CDC Articles )</p>
<p>Columns 2 & 3 may be more useful to professionals who need to deploy CDC software and make it work</p>

<h3>Assumed Knowledge</h3>
<p>These articles assume that the reader has a reasonable understanding of what the IBM CDC Software solutions do, and the likely use cases in their organisation.</p>
<p>A series of links that explain the basics of CDC Replication is provided at the bottom of the page should you need some additional background information.</p>

<h3>Mainframe Focus</h3>
<p>The raison d'etre for CDC Replication is to support heterogeneous data sources and targets. 
This series of articles is heavily focussed on mainframe data sources. 
Integration between mainframe sources and non-mainframe targets is the source of most of the deployment challenges faced by customers (devops, security etc... ). 
Kafka and Db2 Linux are chosen as a couple of examples of non-mainframe targets so that these challenges can be considered and addressed.</p>

<h3>Feedback</h3> 
<p>These papers represent the personal experience and opinion of the author. I welcome any constructive feedback to help improve these articles,</p>


<hr>
<h2 id="App">Appendix</h2>
<p>The following are helpful sources of information about IBM's CDC Portfolio</p>

<ol>
<li>link 1
<li>link2
<li> to be added
</ol>




<!-- End of Page Content -->
</div>
	
</body>
</html>